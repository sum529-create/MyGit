<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<script type="text/javascript">
	
	/* 
		1. 1 ~ 20 사이의 난수가 발생되면 맞추기
			1) 입력 대화상자를 이용해서 이력
			2) 매 입력 마다 '정답', '오답'
			3) '정답'을 몇번만에 맞혔는지 함께 출력
	*/
	
	var num = parseInt(Math.random()*20) + 1;
	alert(num);
	var count = 1;
			while(true){
				var ans = prompt('난수를 입력하세요. '); 
				if(ans == num){
					alert('정답');					
					break;
				}else{
					alert('오답');
					count++;
				}
			}
	alert(count + '번 만에 정답을 맞추셨습니다.');
	
	/* 
		2. 적을 쓰러드려라 ,
			1) 적의 에너지는 100이다.
			2) 내가 한 번 공격할 때마다 0 ~ 19 사이의 에너지를 닳게 한다.
			3) 모든 공격은 자동으로 진행한다.
			4) 공격마다 적의 남은 에너지를 그래프 형태로 출력한다. (에너지: 5 ■ ■ ■ ■ ■ ■)
			5) 몇 번만에 쓰러뜨렸는지 함께 출력한다.
			6) 5% 확률로 한 번에 쓰러뜨릴 수 있다.
	*/

 /* 
 	-- my answer -- alert 창 
 	var mEnergy = Number(100);
	var mEnergyBar = '';
	while(true){
		var myAttack = parseInt(Math.random()*20);
		mEnergy -= myAttack;
		for(var a=0; a<mEnergy; a++){
			mEnergyBar += '■';
		}
		if(mEnergy>0){
			alert('적의 데미지를 ' + myAttack + '만큼 입혔다.' + mEnergy + ': ' + mEnergyBar);
		}
		else if(Math.randomg()<0.05){
			alert('적을 한방에 무찔렀다!');
			break;
		}
		else{
			alert('적을 무찔렀다!');
			break;
		}
		mEnergyBar = '';
		
	} */
	
	
	
	var hp = 100;    // 적의 에너지
	var attack = 0;  // 나의 공격력
	var count = 0;   // 공격 횟수
	var graph = '';  // 에너지 그래프
	
	var i = 0;
	while (i < hp) {
		graph += '■';
		i++;
	}
	document.write('적의 에너지: ' + graph + ' <b>(' + hp + ')</b><br/>');
	
	do {
		
		if (Math.random() < 0.05) {  // 5% 확률로
			hp = 0;
		} else {
			attack = parseInt(Math.random() * 20);  // 공격력이 랜덤 생성 (0 ~ 19)
			hp -= attack;
			(hp < 0) && (hp = 0);  // if (hp < 0) { hp = 0; } 과 같다.		
		}
		
		count++;
		
		graph = '';
		i = 0;
		while (i < hp) {
			graph += '■';
			i++;
		}
		blankGraph = '';
		i = 0;
		while (i < (100 - hp)) {
			blankGraph += '□';
			i++;
		}
		
		document.write('적의 에너지: ' + graph + blankGraph + ' <b>(' + hp + ')</b><br/>');
		
	} while (hp > 0);
	
	document.write('<h3>' + count + '번만에 쓰러뜨렸다.</h3>');
	
</script>
</head>
<body>

</body>
</html>
